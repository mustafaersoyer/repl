{"version":3,"sources":["../lib/gtag.ts"],"sourcesContent":["import { GoogleAnalyticsOptions } from 'models'\r\n\r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\ndeclare const gtag: any\r\n\r\nconst initGoogleAnalytics = (id: string): Promise<void> =>\r\n  new Promise((resolve) => {\r\n    const existingScript = document.getElementById('gtag')\r\n    if (!existingScript) {\r\n      const script = document.createElement('script')\r\n      script.src = `https://www.googletagmanager.com/gtag/js?id=${id}`\r\n      script.id = 'gtag'\r\n      const initScript = document.createElement('script')\r\n      initScript.innerHTML = `window.dataLayer = window.dataLayer || [];\r\n      function gtag(){dataLayer.push(arguments);}\r\n      gtag('js', new Date());\r\n    \r\n      gtag('config', '${id}');\r\n      `\r\n      document.body.appendChild(script)\r\n      document.body.appendChild(initScript)\r\n      script.onload = () => {\r\n        resolve()\r\n      }\r\n    }\r\n    if (existingScript) resolve()\r\n  })\r\n\r\nexport const sendGaEvent = (options: GoogleAnalyticsOptions) => {\r\n  if (!options) return\r\n  gtag('event', options.action, {\r\n    event_category: options.category,\r\n    event_label: options.label,\r\n    value: options.value,\r\n  })\r\n}\r\n\r\nexport default initGoogleAnalytics\r\n"],"mappings":"AAKA,IAAMA,EAAuBC,GAC3B,IAAI,QAASC,GAAY,CACvB,IAAMC,EAAiB,SAAS,eAAe,MAAM,EACrD,GAAI,CAACA,EAAgB,CACnB,IAAMC,EAAS,SAAS,cAAc,QAAQ,EAC9CA,EAAO,IAAM,+CAA+CH,IAC5DG,EAAO,GAAK,OACZ,IAAMC,EAAa,SAAS,cAAc,QAAQ,EAClDA,EAAW,UAAY;AAAA;AAAA;AAAA;AAAA,wBAILJ;AAAA,QAElB,SAAS,KAAK,YAAYG,CAAM,EAChC,SAAS,KAAK,YAAYC,CAAU,EACpCD,EAAO,OAAS,IAAM,CACpBF,EAAQ,CACV,CACF,CACIC,GAAgBD,EAAQ,CAC9B,CAAC,EAEUI,EAAeC,GAAoC,CAC1D,CAACA,GACL,KAAK,QAASA,EAAQ,OAAQ,CAC5B,eAAgBA,EAAQ,SACxB,YAAaA,EAAQ,MACrB,MAAOA,EAAQ,KACjB,CAAC,CACH,EAEOC,EAAQR","names":["initGoogleAnalytics","id","resolve","existingScript","script","initScript","sendGaEvent","options","gtag_default"]}